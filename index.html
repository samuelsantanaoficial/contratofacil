<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contrato Fácil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>

<body>

    <nav class="navbar navbar-dark bg-primary mb-4">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">Contrato Fácil</span>
        </div>
    </nav>

    <div class="container pb-5">
        <div class="card mb-4">
            <div class="card-header bg-white"><strong>Meus Dados (Contratada)</strong></div>
            <div class="card-body">
                <form id="formMeusDados">
                    <div class="mb-3">
                        <label class="form-label">Nome Profissional/Empresa</label>
                        <input type="text" id="meuNome" class="form-control" placeholder="Ex: Ellyh Miranda Fotografia">
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">CPF/CNPJ</label>
                            <input type="text" id="meuCPF" class="form-control">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">Chave Pix (Sinal)</label>
                            <input type="text" id="minhaChavePix" class="form-control">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Endereço Completo</label>
                        <input type="text" id="meuEndereco" class="form-control">
                    </div>
                    <button type="button" onclick="salvarConfiguracoes()" class="btn btn-success w-100">Salvar</button>
                </form>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-header bg-white"><strong>Cláusulas Padrão</strong></div>
            <div class="card-body">
                <div class="mb-3">
                    <label class="form-label">Prazo de Entrega Padrão</label>
                    <input type="text" id="prazoPadrao" class="form-control" placeholder="Ex: 10 dias úteis">
                </div>
                <div class="mb-3">
                    <label class="form-label">Uso de Imagem (Cláusula 5)</label>
                    <textarea id="clausulaUso" class="form-control" rows="2"></textarea>
                </div>
                <button type="button" onclick="salvarConfiguracoes()" class="btn btn-success w-100">Salvar
                    Cláusulas</button>
            </div>
        </div>

        <div class="text-center mt-4">
            <button class="btn btn-outline-secondary btn-sm" onclick="exportarBackup()">Exportar Backup (JSON)</button>
        </div>
    </div>

    <script>
        // Função para salvar no LocalStorage
        function salvarConfiguracoes() {
            const dados = {
                nome: document.getElementById('meuNome').value,
                cpf: document.getElementById('meuCPF').value,
                pix: document.getElementById('minhaChavePix').value,
                endereco: document.getElementById('meuEndereco').value,
                prazo: document.getElementById('prazoPadrao').value,
                uso: document.getElementById('clausulaUso').value
            };
            localStorage.setItem('configContrato', JSON.stringify(dados));
            alert('Configurações salvas com sucesso!');
        }

        // Função para carregar ao abrir a página
        function carregarDados() {
            const salvos = localStorage.getItem('configContrato');
            if (salvos) {
                const d = JSON.parse(salvos);
                document.getElementById('meuNome').value = d.nome || '';
                document.getElementById('meuCPF').value = d.cpf || '';
                document.getElementById('minhaChavePix').value = d.pix || '';
                document.getElementById('meuEndereco').value = d.endereco || '';
                document.getElementById('prazoPadrao').value = d.prazo || '';
                document.getElementById('clausulaUso').value = d.uso || '';
            }
        }

        function exportarBackup() {
            const dados = localStorage.getItem('configContrato');
            const blob = new Blob([dados], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'backup-contrato.json';
            a.click();
        }

        // Inicializa carregando os dados
        window.onload = carregarDados;
    </script>

</body>

</html>